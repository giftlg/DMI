<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string name="help"><![CDATA[
<h1>Справка</h1>
<b><i>Версия приложения v%1$s</i></b><br>
Лицензия - GPLv3<br>

Репозиторий с исходниками - https://github.com/Seva-coder/Finder<br><br>
\tПриложение предназначено для удалённого получения координат смартфона посредством SMS (также возможна отправка вручную). Оно совмещает в себе две части - одна для отправки SMS с запросом и отображения координат, а вторая для автоматического ответа на поступивший запрос (если включена в настройках). Так же есть возможность отправить свои координаты на какой-либо из доверенных номеров вручную (из вкладки доверенных номеров). <b>Доверенные номера</b> - приложение отвечает только на запросы с этих номеров и только при включенной опции <i>Отвечать на запросы</i> (кроме команды удалённого добавления, если включена - она сама добавляет номер в этот список).<br>
\tОбратите внимание, что номер должен иметь такой же вид как и на определителе (например, в РФ, вида +71231234567 без пробелов/скобок).<br>
\tПри добавлении номера он попадает в список активной вкладки, в \"истории\" и уведомлениях используется имя из списка запросов (левого), для уведомлений о входящих запросах имя берётся из правого списка. Время в истории - местное время на запрашивающем телефоне в момент определения координат отвечающим телефоном.<br>
\tПри запуске на Android 6.0 и более новых приложение запрсит необходимые права во время настройки. Если не выдать какое-либо разрешение, приложение не сможет выполнять свои функции.<br>
<font color="red">\tВажно!</font> На <b>Android 6.0</b> и более новых для того, чтобы приложение могло отправить данные <b>сетей WiFi</b>, необходимо чтобы на устройстве был <b>включен GPS!</b> Он не будет использован для этого непосредственно, но новые версии ОС требуют чтобы он был включен. Либо, для автовключения GPS сделайте соотв. настройки (см. ниже).

<h2><font color="red">Внимание для пользователей MIUI!</font></h2>

\tНекоторые ОС от производителей, например MIUI (и возможно некоторые другие) достаточно агрессивны к запуску фоновых процессов. И хоть Finder запускается только когда приходит SMS (остальное время никаких служб не запущено, исключение составляет трекинг), система может отключать его приёмник широковещательных сообщений (компонент приложений android), что приводит к <b>неработоспособности</b> - приложение не отвечает на входящие SMS запросы. Для того чтобы этого не происходило, необходимо выставить некоторые настройки в системе для этого приложения:
<br>
1. Безопасность -> Разрешения -> Автозапуск -> добавить в автозапуск<br>
2. Батарея -> Экономия энергии -> выставить <b>\"нет ограничений\"</b> и <b>разрешить местоположение В ФОНЕ</b> для этого приложения<br>
3. В меню запущенных (или недавних) приложений сдвинуть Finder вниз и нажать <b>Lock</b>.<br>
4. Безопасность -> Разрешения -> Другие разрешения -> Finder -> разрешить <b>\"Запускать в фоне\"</b> и <b>\"Изменение состояния Wi-Fi\"</b>.<br>

Всё это должно заставить систему не отключать приёмник сообщений и позволить ему надёжно отвечать на команды.

<h2>Описание настроек</h2>

\tПрограмма содержит две группы настроек. Первая отвечает за текст SMS-команд. Этот текст используется и для отправки, и для проверки SMS на наличие команды (при включенном режиме ответа). Команды типов поиска не должны совпадать. Их значения по умолчанию - <i>wifi_search</i> и <i>gps_search</i>. Естественно, для работы приложения необходимо чтобы на обоих телефонах был одинаковый текст соответствующих команд (зависимы от регистра!) и номер запрашивающего был в списке доверенных на отвечающем телефоне.<br>
<b><i>\tАвтоматическое открытие карты</i></b> означает, что при приходе ответного сообщения с координатами или данными сетей, карта с результатом будет открыта сразу, если приложение открыто. Но даже в случае, если в момент прихода ответного SMS приложение закрыто, координаты будут записаны в меню <i>история</i> (но см. особенности некоторых систем, например MIUI!).<br>
\tВ случае, если же SMS по каким-то причинам не обработано (это особенно важно в случае ответа с сетями), можно вручную открыть его с помощью меню <i>откр. sms</i>. Обратите внимание, что для определения координат по данным сетей необходимо наличие интернета на запрашивающем телефоне! Используется \"Google geolocation API\". В случае ответа с координатами интернет не обязателен, но может пригодиться для загрузки карты (при этом есть возможность открыть местоположение во внешнем приложении offline-карт из меню <i>истории</i>, без сети).<br>
\tЧекбокс <b><i>отвечать на запросы</b></i> активирует режим ответа на SMS-запросы и вторую группу настроек. Включается также при добавлении доверенных номеров.<br>
<b><i>\tКоличество сканов WiFi</b></i> - указывает сколько раз будет выполняться сканирование сетей wifi перед отправкой. Если выполнять его один раз, в случае слабого сигнала сетей некоторые из сетей могут быть не обнаружены. По умолчанию 3 раза.<br>
<b><i>\tПауза между сканированиями</b></i> - время между запросами сканирования сетей. Может зависеть от телефона, по умолчанию 7 секунд.<br>
<b><i>\tКоличество MAC в SMS</b></i> - параметр, ограничивающий количество mac-адресов в ответном SMS-сообщении. Может пригодиться в случае большого количества сетей, например в мегаполисах. Длинные SMS сообщения разбиваются на несколько допустимых по длине оператором, что при большом количестве сетей может привести к трате средств. По умолчанию 10.<br>
<b><i>\tВремя работы GPS</b></i> - время в минутах, в течение которого приложение будет пытаться определить своё местоположение по GPS. В случае, если же в течение этого времени местоположение определить не удалось, приложение остановится и отправит сообщение об ошибке. Таймер сделан в целях ограничения разряда аккумулятора (например, в случае нахождения в здании). Также это ограничение используется при трекинге. По умолчанию 20 минут.<br>
<b><i>\tЖелаемая точность GPS</b></i> - при определении местоположения по GPS первые данные как правило неточны, этот параметр позволяет пропустить грубые данные и отправить их, когда точность будет выше. Но даже если она не будет достигнута за <i>\"время работы GPS\"</i>, имеющееся \"грубое\" местоположение ВСЁ РАВНО будет отправлено. По умолчанию 12 метров.<br>
<b><i>\tВыключать звук при входящем SMS запросе</b></i> - опция позволяет бесшумно принимать сообщения с командами. Может помочь, если телефон был украден. Если звук уже был отключен, то приложение оставит его в выключенном состоянии (иначе вернёт в нормальное, как и было до команды).<br>
<b><i>\tУдалённое добавление номера</b></i> - при включенной опции <b>и добавленной команде</b>, позволяет прописать в доверенные номера новый номер (тот, с которого будет отправлена команда удалённого добавления). Даже если режим ответа был отключен, он будет активирован с настройками по умолчанию (или имеющимися до его отключения, если менялись). Это может позволить оперативно начать поиск телефона в случае его потери (отправив запрос с любого имеющегося под рукой телефона).<br>
<p>
<h2>Трекинг</h2>
<i>Трекинг</i> - режим работы, при котором координаты устройства автоматически отправляются на указанный номер с определённой периодичностью (учитывайте возможные затраты!). Вызывается по клику на доверенном номере -> "начать трекинг". Удалённо запустить эту опцию нельзя. Имеет следующие настройки (появятся при вызове):<br>
<b><i>\tМаксимальное количество..</b></i> - ограничивает количество трекинговых SMS.<br>
<b><i>\tПауза между получением..</b></i> - с таким периодом будет включаться GPS. Учтите, что при малом периоде сиситема может <b>не успеть определить координаты и пропутить этот период</b>. После получения данных GPS не используется экономя заряд батареи. Также время работы GPS при трекинге ограничивается настройкой \"Время работы GPS\" для одиночных запросов.<br>
<b><i>\tЖелаемая точность</b></i> - после получения координат приложение будет ждать, когда наступит нужная точность. При недостижении уст. точности будут отправлены имеющиеся данные.<br>
<b><i>\tКоличество точек..</b></i> - эта возможность позволяет в одном сообщении отправлять несколько последовательных координат, чтобы экономить количество SMS. Количесво зависит от оператора, обычно в 1 SMS влазит 3-4 точки. Т.е. сначала заполняется "буфер" из этого количества точек, потом отправляется одним сообщением. Частота отправки сообщений соответственно снижается.<br>
В сообщениях трекинга помимо координат содержится скорость и местное время.

<p>
Для <b>автоматического включения</b> GPS надо выдать приложению права WRITE_SECURE_SETTINGS. Делается через ADB командой:<br>
<i>adb shell pm grant ru.seva.finder android.permission.WRITE_SECURE_SETTINGS</i><br>
подробнее, описание внизу страницы - https://github.com/Seva-coder/Finder
<p>
<i>Севастьянов Никита,<br>
 moosburger,<br>
 domkrm,<br>
 Atrate,<br>
 albertheres,<br>
 sguinetti,<br>
 alekksander<br>
 2018-2020</i>]]></string>
</resources>
